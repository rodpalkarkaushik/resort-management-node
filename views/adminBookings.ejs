<!DOCTYPE html>
<html>
<head>
  <title>Admin ‚Äì All Bookings</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background: linear-gradient(to right, #f8f9fa, #e9ecef);
      font-family: 'Segoe UI', sans-serif;
    }
    .table {
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      border-radius: 10px;
      overflow: hidden;
    }
    .badge {
      font-size: 0.9rem;
    }
  </style>
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <div class="container-fluid">
    <a class="navbar-brand" href="/admin/dashboard">üèùÔ∏è Luxury Resorts Admin</a>
    <div class="collapse navbar-collapse">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="/admin/resorts">Resorts</a></li>
        <li class="nav-item"><a class="nav-link" href="/logout">Logout</a></li>
      </ul>
    </div>
  </div>
</nav>

<!-- Page Content -->
<div class="container mt-5">
  <h2 class="text-center mb-4">üìã All Bookings</h2>

  <div class="table-responsive">
    <table class="table table-striped table-hover align-middle">
      <thead class="table-dark">
        <tr>
          <th>ID</th>
          <th>Username</th>
          <th>Resort</th>
          <th>Price</th>
          <th>Date</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody>
        <% if (bookings.length === 0) { %>
          <tr>
            <td colspan="6" class="text-center text-muted">No bookings found</td>
          </tr>
        <% } else { %>
          <% bookings.forEach(b => { %>
            <tr>
              <td><%= b.id %></td>
              <td><%= b.username %></td>
              <td><%= b.resort_name %></td>
              <td>‚Çπ<%= b.price %></td>
              <td>
                <%= new Date(b.booking_date).toLocaleString('en-IN', {
                  day: 'numeric',
                  month: 'short',
                  year: 'numeric',
                  hour: '2-digit',
                  minute: '2-digit'
                }) %>
              </td>
              <td>
                <% if (b.status === 'Approved') { %>
                  <span class="badge bg-success">Approved</span>
                <% } else if (b.status === 'Cancelled') { %>
                  <span class="badge bg-danger">Cancelled</span>
                <% } else { %>
                  <span class="badge bg-warning text-dark"><%= b.status %></span>
                <% } %>
              </td>
            </tr>
          <% }) %>
        <% } %>
      </tbody>
    </table>
  </div>

  <div class="text-center mt-3">
    <a href="/admin/dashboard" class="btn btn-secondary me-2">Back to Dashboard</a>
    <a href="/logout" class="btn btn-danger">Logout</a>
  </div>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>